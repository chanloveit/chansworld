---
id: 7
title: "self-made 블로그 개발 노트 4장"
created_at: "2026-01-21"
category: "dev_blog"
auto_head_image: "/media/7.jpg"
featured: false
---
어지간히 구색을 갖췄으니 이제 사람들이 이곳에 찾아오도록 해야 한다.

# Sitemap
  
서치 콘솔에는 진작에 등록해 뒀고, [사이트맵](https://developers.google.com/search/docs/crawling-indexing/sitemaps/overview?hl=ko)을 만들 차례다.  
Next.js 는 app/sitemap.ts로 경로를 자동으로 처리할 수 있게 도와준다.  
새로 포스팅을 할 때마다 사이트맵을 등록할 순 없으니 모든 포스트를 긁어다가 동적으로 경로를 만들어준다.

```tsx
import { MetadataRoute } from 'next';
import { getPosts } from '@/components/getmodels';

export default async function sitemap(): Promise<MetadataRoute.Sitemap>{
	const baseUrl = 'https://chansworld.vercel.app';
	const posts = await getPosts();

	const postUrls = posts.map((post) => ({
		url: `${baseUrl}/post/${post.id}`,
		lastModified: new Date(post.created_at),
		priority: 0.8,
	}));
```

홈을 비롯한 정적 페이지도 경로를 만들자.
```tsx
	const routes = ['', '/posts'].map((route) => ({
		url: `${baseUrl}${route}`,
		lastModified: new Date(),
		changeFrequency: 'daily' as const,
		priority: 1.0,
	}));

	return [...routes, ...postUrls];
}
```

이리하면...
![](/media/7-1.jpg)
사이트맵이 만들어진다. 이제 서치콘솔에 사이트맵을 등록하면 인터넷 유랑자들이 흘러들어올 것이다.

![](/media/7.jpg)


이제 열심히 포스트를 채워 보자. 포스트 개수가 늘어나면 페이지네이션도 해보고.. 