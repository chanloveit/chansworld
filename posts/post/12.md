---
id: 12
title: "터미널 디스코드 #1"
created_at: "2026-02-10"
category: "dev_etc"
auto_head_image: "/media/12.jpg"
featured: false
---

# [__discord-cli__](https://github.com/chanloveit/discord-cli)

![discord-cli](/media/12.jpg)

## 왜 만들었나

코딩하면서 Discord 텍스트 채널을 확인하고 싶었다. Alt-tab을 줄이는 굉장히 niche한 방법.  
터미널에서 모든 걸 하고 싶은 개발자의 낭만이랄까.  

## Discord API의 한계

Discord API는 봇 전용이다. User token으로 접근하는 건 약관 위반이라 봇을 나의 agency로 메시지를 송/수신하는 거다.  
봇 프로필을 discord developer portal에서 얼마든지 수정할 수 있으니 본인 프로필과 똑같이 만들 수도 있고,  
아니면 두 번째 자아를 만드는 것도 재밌지 않을까.  

## 현재 상태
일단 CLI로 만들었는데 UX가 **정말 나쁘다**.

사진에서 보다시피 채널 ID를 직접 복사해서 입력해야 하는 게 최악이다.
```bash
/channels 1470370001390141463
/join 147062791789357128
```

## 구현한 것

-서버/채널 목록 조회  
-실시간 메시지 송/수신  
-IRC 스타일 인터페이스  
-타임스탬프 표시  

아마 실시간 메시지 송수신을 가장 간편하게 만드는 방법이 아닐까...

메시지 송신에서 하나 걸린 게, 내 입력과 Discord에서 받은 내용이 같이 터미널 창에 보이는 게 굉장히 거슬렸다.  
```bash
hello                    # 내가 입력
[15:30] [봇]: hello      # Discord에서 받은 내용
```

이걸 [ANSI Escape](https://namu.wiki/w/ANSI%20%EC%9D%B4%EC%8A%A4%EC%BC%80%EC%9D%B4%ED%94%84%20%EC%BD%94%EB%93%9C) 코드라는 걸로 지워 버렸다.  
```ts
if(currentChannel){
			try{
				process.stdout.write('\u001b[1A\u001b[2K');
				await currentChannel.send(trimmed);
			}

			catch(error){
				console.log(colors.warning('Error'));
			}
		}

		else{
			console.log('Join a channel first to chat');
		}
	}
}
```
커서를 하나 위로 올리고 현재 줄을 전체 지우는 동작이다. 뭔가 옛스러운 느낌이 들어 좋다. 

개인적으로 정말 재밌다. 한동안 이거 가지고 놀 듯.